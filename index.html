<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8" />
<title>Snake Smooth Wrap</title>
<style>
  body {
    display:flex;flex-direction:column;justify-content:center;align-items:center;
    height:100vh;margin:0;
    background:linear-gradient(135deg,#d1c4e9,#b39ddb);
    overflow:hidden;transition:background .5s;
  }
  #container {
    width:80vw;height:200px;position:relative;border-radius:20px;
    background:rgba(255,255,255,0.2);box-shadow:inset 0 0 20px rgba(0,0,0,0.2);
  }
  #ball {
    width:150px;height:150px;border-radius:50%;
    background:#ff3d00;position:absolute;bottom:25px;left:0;
    box-shadow:0 10px 20px rgba(0,0,0,0.3);
  }
  .button-container{display:flex;gap:40px;margin-top:50px}
  button{
    padding:15px 30px;font-size:18px;font-weight:bold;
    background:#673ab7;color:#fff;border:none;border-radius:8px;
    cursor:pointer;user-select:none;
    transition:.2s;
  }
  button:hover{transform:scale(1.05);background:#5e35b1;}
</style>
</head>
<body>
  <div id="container"><div id="ball"></div></div>
  <div class="button-container">
    <button id="leftBtn">ðŸ‘ˆ Move Left</button>
    <button id="rightBtn">ðŸ‘‰ Move Right</button>
  </div>

<script>
const ball=document.getElementById("ball");
const container=document.getElementById("container");
const body=document.body;
const leftBtn=document.getElementById("leftBtn");
const rightBtn=document.getElementById("rightBtn");

let pos=0;
let dir=null;
let speed=3;
let animationId=null;

function randomBG(){
  const hue=Math.floor(Math.random()*360);
  body.style.background=`linear-gradient(135deg,hsl(${hue},70%,80%),hsl(${(hue+40)%360},60%,70%))`;
}

function move(){
  const cW=container.clientWidth;
  const bW=ball.offsetWidth;
  const total=cW+bW; // total travel distance including outside
  if(dir==="right"){
    pos=(pos+speed)%total; // continuous looping
  }else if(dir==="left"){
    pos=(pos-speed+total)%total; // keep positive loop
  }

  // shift drawing area so visible wrap looks smooth
  let drawX=pos-bW;
  if(drawX>cW-bW)drawX-=total;
  ball.style.left=drawX+"px";

  // change bg each time it crosses a full loop
  if(pos<speed || pos>total-speed) randomBG();

  animationId=requestAnimationFrame(move);
}

function start(d){
  dir=d;
  if(!animationId) move();
}
function stop(){
  cancelAnimationFrame(animationId);
  animationId=null;
}

rightBtn.addEventListener("mouseenter",()=>start("right"));
rightBtn.addEventListener("mouseleave",stop);
leftBtn.addEventListener("mouseenter",()=>start("left"));
leftBtn.addEventListener("mouseleave",stop);
</script>
</body>
</html>
